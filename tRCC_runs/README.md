# Input processing for tRCC samples 

## Pre-processing

1. The truncated maf files for the tRCC samples used here were generated by running GATK funcotator.
2. The seg data comes from seg files generated by Titan run.
3. The columns of maf- "Hugo_Symbol", "Chromosome", "Start_position", "Reference_Allele", "Tumor_Seq_Allele2", "t_ref_count", "t_alt_count" were combined with columns from Titan seg files "Corrected_MajorCN",	"Corrected_MinorCN" based on the variant chr co-ordinates lying in the range between chr start and end position of seg files.
4. To match the format columns of PhylogicNDT runs, the column names were changed from "Corrected_MajorCN" and	"Corrected_MinorCN" to "local_cn_a1" and "local_cn_a2"
5. One can create a .sif file to run easily with the columns "sample_id", "maf_fn",  "seg_fn",  "purity" and "timepoint". For our tRCC case, "purity" values were curated with in-house calculation and not from Titan.
6. As tRCC samples were not ordered by biopsy timepoints, it can be either arbitrary or give same timepoints for all the samples. We used 0 for all the samples in our case run.

## Notes

Make sure that the column headings are exactly the same to what PhylogicNDT example data or else there will be error while running!

# Example run with 1000 iterations

## Clustering and calculating CCFs

`./PhylogicNDT.py Cluster -i your_run_name -ni 1000 -sif /path/to/.sif --maf_input_type calc_ccf`

This generates files such as "mut_ccfs.txt" and "cluster_ccfs.txt" reuired for building trees


## Building trees

`./PhylogicNDT.py BuildTree -i your_run_name -ni 1000 -sif /path/to/.sif -m /path/to/mut_ccfs.txt -c /path/to/cluster_ccfs.txt`
